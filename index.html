<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>Cells Map</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- MapLibre CSS -->
  <link href="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.css" rel="stylesheet" />
  <script src="https://unpkg.com/maplibre-gl@4.7.1/dist/maplibre-gl.js"></script>

  <style>
    body { margin: 0; padding: 0; }
    #map { position: absolute; top: 0; bottom: 0; width: 100%; }
  </style>
</head>

<body>
<div id="map"></div>

<script>
  // Basemap OpenStreetMap raster
  const style = {
    version: 8,
    sources: {
      osm: {
        type: "raster",
        tiles: [
          "https://tile.openstreetmap.org/{z}/{x}/{y}.png"
        ],
        tileSize: 256,
        attribution: "Â© OpenStreetMap contributors"
      }
    },
    layers: [
      {
        id: "osm",
        type: "raster",
        source: "osm"
      }
    ]
  };

  const map = new maplibregl.Map({
    container: "map",
    style: style,
    center: [2.137, 41.445],  // centre approximatif de ton bbox
    zoom: 14
  });

  map.addControl(new maplibregl.NavigationControl(), "top-right");

  map.on("load", function () {

    // Charger ton GeoJSON
    map.addSource("cells", {
      type: "geojson",
      data: "data/cells.geojson"
    });

    // Couche polygones
    map.addLayer({
      id: "cells-fill",
      type: "fill",
      source: "cells",
      paint: {
        "fill-color": "#0077ff",
        "fill-opacity": 0.4
      }
    });

    // Contours
    map.addLayer({
      id: "cells-outline",
      type: "line",
      source: "cells",
      paint: {
        "line-color": "#003366",
        "line-width": 1
      }
    });

  });
</script>

</body>
</html>

